---
- name: play one  
  hosts: fedora
  vars:
    web_pkg: httpd
    firewall_pkg: firewalld
    web_service: httpd
    firewall_service: firewalld
    python_pkg: python3-PyMySQL
    rule: http
  tasks:
   - name: yum please install all
     yum:
         name: 
          - "{{web_pkg}}"
          - "{firewall_pkg}}"
          - "{{python_pkg}}"
         state: latest
   - name: ensure that services apche  runnig well
     service:
      name: "{{web_service}}"
      state: started
      enabled: yes
   - name: ensure that firewall service is rrunnig well please
     service:
      name: "{{firewall_service}}"
      state: started
      enabled: yes
   - name: firewall rules to add please varible hia {{rule}} 
     firewalld:
      service: "{{rule}}"
      permanent: yes
      immediate: yes
      state: enabled
      #port: 80/tcp
   - name: web content fill
     copy:
      content: "EXAMPLE JOM3A FI ROMDAN"
      dest: /var/www/html/index.html

- name: new play
  hosts: myself
  becoome: false
  tasks:
   - name: check your remote apche  server please
     uri:
      url: http://192.168.122.203
      status_code: 200
     # register: result_quer_apache
 # - debug: var=result_quer_apache

   



     

